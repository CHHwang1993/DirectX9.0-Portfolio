shared float4x4 matView;//뷰 매트릭스
shared float4x4 matProjection;//프로젝션 매트릭스
shared float4x4 matViewProjection;//뷰프로젝션 매트릭스

shared float3 vCamPos;//카메라 위치

shared float3 vFogColor = float3(0.8f,0.9f,1);//안개 색상
shared float fFogStart = 600;//안개 시작거리
shared float fMaxViewDist = 2000;//최대 뷰 거리


//////////////////////////////////////////////////////////////////////////
/// 거리에 따른 블렌딩
//////////////////////////////////////////////////////////////////////////
float DistanceBlend(float3 vPosition)
{
	return saturate((distance(vPosition, vCamPos) - fFogStart) / (fMaxViewDist + fFogStart));
}
//////////////////////////////////////////////////////////////////////////


//////////////////////////////////////////////////////////////////////////
/// 안개 블렌딩
//////////////////////////////////////////////////////////////////////////
float3 FogBlend(float3 vColor, float3 vPosition)
{
	return lerp(vColor, vFogColor, DistanceBlend(vPosition));
}
//////////////////////////////////////////////////////////////////////////